# Samza

A real-time data processing framework built on top of the Apache YARN infrastructure by LinkedIn.

YARN(Yet Another Resource Negotiator)  is used by Samza to manage the deployment, fault tolerance, and security of the
data processing pipelines.

An application in YARN consists of an ApplicationMaster and a number of containers that are hosted on each node.
 The ApplicationMaster, is in charge of coordinating a job and managing its assigned containers, which host the individual tasks.

### Samzaâ€™s features

- Unified API: Use a simple API to describe your application-logic in a manner independent of your data-source. The same API can process both batch and streaming data.
- Pluggability at every level: Process and transform data from any source. Samza offers built-in integrations with Apache Kafka, AWS Kinesis, Azure EventHubs, ElasticSearch and Apache Hadoop. 
- Samza as an embedded library: Integrate effortlessly with your existing applications eliminating the need to spin up and operate a separate cluster for stream processing. 
- Write once, Run anywhere
- Samza as a managed service: With cluster managers like YARN.
- Fault-tolerance: Transparently migrate tasks along with their associated state in the event of failures. Samza supports host-affinity and incremental checkpointing to enable fast recovery from failures.
- Scalability

Samza Processes data in the form of streams.

> A stream is a collection of immutable messages, usually of the same type or category. Each message in a stream is modelled as a key-value pair.


![Samza Streams and Partitions](http://samza.apache.org/img/latest/learn/documentation/core-concepts/streams-partitions.png)

A stream can have multiple producers that write data to it and multiple consumers that read data from it.
 Data in a stream can be unbounded (eg: a Kafka topic) or bounded (eg: a set of files on HDFS).

A stream is sharded into multiple partitions for scaling how its data is processed. Each partition is an ordered,
 replayable sequence of records. When a message is written to a stream, it ends up in one of its partitions.
 Each message in a partition is uniquely identified by an offset.

A stream application processes messages from input streams, transforms them and emits results to an output stream or a database.
 It is built by chaining multiple operators, each of which takes in one or more streams and transforms them.


Samza supports both stateless and stateful stream processing. 
- Stateless processing: does not retain any state associated with the current message after it has been processed.
- Stateful processing: records some state about a message even after processing it.

Samza supports two notions of time:
- Processing time - the timestamp of a message is determined by when it is processed by the system.
  For example, an event generated by a sensor could be processed by Samza several milliseconds later.
- Event time - the timestamp of an event is determined by when it actually occurred at the source.
  For example, a sensor which generates an event could embed the time of occurrence as a part of the event itself.
   Samza provides event-time based processing by its integration with Apache BEAM.


Processing guarantee - Samza supports at-least once processing(each message in the input stream is processed by the
 system at-least once). This guarantees no data-loss even when there are failures.


[Samza Architecture and More ..](http://samza.apache.org/learn/documentation/latest/architecture/architecture-overview.html)

